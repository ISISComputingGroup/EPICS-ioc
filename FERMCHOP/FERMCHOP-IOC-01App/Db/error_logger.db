record(stringin, "$(P)ERRORS:$(NAME):OFF_STR") {
    field(VAL, "$(OFF_STR)")
    field(PINI, "YES")
}

record(stringin, "$(P)ERRORS:$(NAME):ON_STR") {
    field(VAL, "$(ON_STR)")
    field(PINI, "YES")
}

record(scalcout, "$(P)ERRORS:$(NAME):LOGGER:CALC") {
    field(INPA, "$(PV) CP MS")
    field(INBB, "$(P)ERRORS:$(NAME):OFF_STR")
    field(INCC, "$(P)ERRORS:$(NAME):ON_STR")
    field(CALC, "A?CC:BB")
    field(OOPT, "On Change")
    field(OUT, "$(P)ERRORS:$(NAME):LOGGER_INT PP")
}

record(stringout, "$(P)ERRORS:$(NAME):LOGGER_INT") {
}

record(stringout, "$(P)ERRORS:$(NAME):LOGGER") {
    field(OMSL, "closed_loop")
    field(DOL, "$(P)ERRORS:$(NAME):LOGGER_INT CP")
    field(DTYP, "stdio")
    field(OUT, "@errlog")
}
