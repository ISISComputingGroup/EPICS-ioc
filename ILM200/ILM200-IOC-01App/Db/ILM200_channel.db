record(ai, "$(P)CH$(NUM):LEVEL")
{
	field(DESC, "Channel $(NUM) level")
    field(EGU, "%")
    field(SCAN, "1 second")
    field(DTYP, "stream")
    field(INP, "@ilm200.proto getLevel($(NUM)) $(PORT)")
    field(PREC, 2)
    
    field(LOW, "10.0")
    field(LSV, "MINOR")
    field(LOLO, "0.0")
    field(LLSV, "MAJOR")
    
    info(INTEREST, "HIGH")
    info(archive, "VAL")
    info(alarm, "ILM")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CH$(NUM):LEVEL")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)CH$(NUM):RATE:SP")
{
	field(DESC, "Channel $(NUM) sample rate SP")
	
    field(DTYP, "stream")
    field(OUT, "@ilm200.proto setRate($(NUM)) $(PORT)")
	
	field(ZNAM, "Slow")
	field(ONAM, "Fast")
	
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CH$(NUM):RATE:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)CH$(NUM):TYPE:RAW")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(FLNK, "$(P)CH$(NUM):TYPE:CALC")
	
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CH$(NUM):TYPE:RAW")
    field(SDIS, "$(P)DISABLE")
}

record(calcout, "$(P)CH$(NUM):TYPE:CALC")
{
	field(DESC, "Makes sure type in contiguous range")
    field(INPA, "$(P)CH$(NUM):TYPE:RAW")
	field(CALC, "A==9?4:A")
	field(OUT, "$(P)CH$(NUM):TYPE PP")
}

record(mbbi, "$(P)CH$(NUM):TYPE")
{
	field(DESC, "Channel $(NUM) cryogen type")
	
	field(ZRST, "Not in use")
	field(ONST, "Nitrogen")
	field(TWST, "Helium")
	field(THST, "Helium (continuous)")
	field(FRST, "Channel error")
    
    info(INTEREST, "HIGH")
    info(archive, "VAL")
}

record(ai, "$(P)CH$(NUM):STATUS:RAW")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CH$(NUM):STATUS:RAW")
    field(SDIS, "$(P)DISABLE")
}

### SIMULATION RECORDS ###

record(ai, "$(P)SIM:CH$(NUM):LEVEL")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai, "$(P)SIM:CH$(NUM):TYPE:RAW")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai, "$(P)SIM:CH$(NUM):STATUS:RAW")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bi, "$(P)SIM:CH$(NUM):RATE")
{
	field(SCAN, "Passive")
	field(DTYP, "Soft Channel")
	
	field(ZNAM, "Slow")
	field(ONAM, "Fast")
}

alias("$(P)SIM:CH$(NUM):RATE", "$(P)SIM:CH$(NUM):RATE:SP")