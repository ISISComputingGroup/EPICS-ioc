#####
#####	DO NOT EDIT THIS FILE ON AN INSTRUMENT
#####   Instead override default values in local "isisicp.properties"
#####
#####	@author Freddie Akeroyd, STFC ISIS Facility
#####
#####	$LastChangedRevision: 1607 $: 
#####	$LastChangedBy: FreddieAkeroyd $: 
#####	$LastChangedDate: 2013-12-01 12:50:43 +0000 (Sun, 01 Dec 2013) $:  
#####	$HeadURL: http://svn.isis.rl.ac.uk/InstrumentControl/ICP/trunk/labview%20modules/DAE/isisicp.default.properties $:

isisicp.services.web = true
isisicp.services.web.port = 10999

isisicp.eventdir = c:\\data\\events
isisicp.keepraweventfiles = false
isisicp.keependcrpt = false
isisicp.logdir = c:\\data\\log

isisicp.nagios.use = false
isisicp.nagios.timeout = 15
isisicp.nagios.poll = 60
isisicp.nagios.host = 130.246.39.24
isisicp.nagios.veto.warn = 80
isisicp.nagios.veto.critical = 90
isisicp.nagios.wait.warn = 120
isisicp.nagios.wait.critical = 180
isisicp.nagios.shutter.warn = 5

# register a handler to trap calls to pure virtual functions 
isisicp.registerpurecallhandler = false

# register a handler to trap windows structured exceptions 
isisicp.registersetranslator = true

# all writes to hdf5/nexus sent via single worker thread queue
isisicp.singlenexuswriterthread = false

isisicp.writenexuscrptsnapshot = true

# use shadow copy for fast snapshots
isisicp.shadow.use = false
# name of shadow copy program - it will be searched for in the "service/arch" directory
isisicp.shadow.progname = HoboCopy.exe
# where to mount the shadow copy locally
isisicp.shadow.dir = c:\\snap_data
# account to use to make shadow copy - if blank use account isisicp running under
isisicp.shadow.user = gamekeeper
isisicp.shadow.pass = Graculus.

isisicp.noncountingdetectors.check = false
isisicp.noncountingdetectors.email = false

isisicp.datadae.file = c:\\labview modules\\dae\\data_dae.xml
isisicp.datadae.use = false

isisicp.logfiles.writetdiff = false
isisicp.logfiles.writestatus = false

isisicp.epicsdb.use = false

# A bit mask of processors to use, so for CPU0 + CPU1 give 2^0 + 2^1 = 3
# isisicp.processAffinityMask = 3
isisicp.processAffinityMask = 65535

isisicp.startruncmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\start_of_run.cmd
isisicp.endruncmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\end_of_run.cmd
isisicp.endstorecmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\end_of_store.cmd
isisicp.endcrptsnapshotcmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\end_of_crpt_snapshot.cmd
isisicp.endautosavecmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\end_of_autosave.cmd
isisicp.exportfilecmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\export_file.cmd

isisicp.daereset.run = false
isisicp.daereset.detectorcmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\reset_detector.cmd
isisicp.daereset.environmentcmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\reset_environment.cmd
isisicp.daereset.envperiodcmd = c:\\Documents and Settings\\spudulike\\My Documents\\Configurations\\COMMON\\reset_envperiod.cmd

isisicp.lastrunfile = c:\\data\\lastrun.txt

isisicp.hideconsole = true

isisicp.snseventfile = false

isisicp.monitoring.disableineventmode = false

isisicp.asyncend = true

isisicp.incrementaleventnexus = false

# create second file with ".incr" extension rather than using file to generate main one
isisicp.incrementaleventnexustest = false

isisicp.ignoremissingdashboardxml = true

isisicp.saveeventsinfile = true

isisicp.savehistogramsineventsfile = true

isisicp.muon.nexusv2test = false

isisicp.testHistogramCheck = false

isisicp.randomeventbinshift = true

isisicp.simulation.detcards.type = neutron
isisicp.simulation.detcards.crate0.number = 2
isisicp.simulation.detcards.shared = false
isisicp.simulation.simulatedata = false
isisicp.simulation.simulatespec0 = true
isisicp.simulation.simulatebin0 = true
isisicp.simulation.neventssim = 5
isisicp.simulation.spreadsimevents = true
isisicp.simulation.detcards.crate0.datadae.number = 0

# automatically correct frame number in event mode. Workaround for WISH
isisicp.frameworkaround = true

# automatically correct bad_frame header in event mode. Workaround for WISH
# however this also sets the period number to 0
isisicp.badheaderworkaround = true

# the number of a detector card to use for frame specific information e.g. time, protons. Workaround for WISH
isisicp.refeventdetcard = -1

# print warning if time and ppp information varies between frames in event mode
isisicp.warneventpppmismatch = false

isisicp.failedends.rerun = false
isisicp.failedends.keepfiles = false


#####
##### logging
#####

# %T is thread name, %I is thread id
logging.formatters.f1.class = PatternFormatter
logging.formatters.f1.pattern = %Y-%m-%d %H:%M:%S (%I) %s: [%p] %t
logging.formatters.f1.times = local

logging.formatters.f2.class = PatternFormatter
logging.formatters.f2.pattern = (%I) %s: [%p] %t
logging.formatters.f2.times = local

# valid levels are:   fatal critical error warning notice information debug trace

logging.loggers.isisicp.name = ISISICP
logging.loggers.isisicp.channel = icpfile
logging.loggers.isisicp.level = information

logging.loggers.root.channel = icpfile
logging.loggers.root.level = information

logging.channels.splitter.class = SplitterChannel
logging.channels.splitter.channels = fmaina,icpfile

logging.loggers.lmain.name = LMAIN
logging.loggers.lmain.channel = fmaina
logging.loggers.lmain.level = information

logging.loggers.ltrace.name = LTRACE
logging.loggers.ltrace.channel = ftracea
logging.loggers.ltrace.level = trace

logging.channels.fmaina.class = AsyncChannel
logging.channels.fmaina.channel = fmain

logging.channels.ftracea.class = AsyncChannel
logging.channels.ftracea.channel = ftrace

logging.channels.fmain.class = FileChannel
logging.channels.fmain.path = c:/data/log/instctrl.log
logging.channels.fmain.formatter = f1
logging.channels.fmain.rotation = daily
logging.channels.fmain.archive = timestamp
logging.channels.fmain.times = local
#logging.channels.fmain.purgeAge = 2 weeks
logging.channels.fmain.purgeCount = 7

logging.channels.ftrace.class = FileChannel
logging.channels.ftrace.path = c:/data/log/instctrl.log.trace
logging.channels.ftrace.formatter = f1
logging.channels.ftrace.rotation = daily
logging.channels.ftrace.archive = timestamp
logging.channels.ftrace.times = local
#logging.channels.ftrace.purgeAge = 2 weeks
logging.channels.ftrace.purgeCount = 7

logging.channels.cconsole.class = ConsoleChannel
logging.channels.cconsole.formatter = f1

logging.channels.cdebug.class = DebuggerChannel
logging.channels.cdebug.formatter = f1

logging.channels.icpfile.class = ICPFileChannel
logging.channels.icpfile.formatter = f2

# logging.channels.c2.path = ${system.tempDir}/sample.log
