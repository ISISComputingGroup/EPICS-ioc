#
# Check if the DaqMX is in alarm, and output status to PV that can be used as a block
#
record(calc, "$(P)DAQMX_STATUS_CALC")
{
    field(DESC, "Are either of the DaqMX's in alarm?")
    field(PINI, "YES")
    field(SCAN, "10 second")
    field(INPA, "$(P)DAQ:R00:DATA.STAT")
    field(INPB, "$(P)DAQ:R01:DATA.STAT")
    field(CALC, "(A # 0) || (B # 0)")
}

record(bi, "$(P)DAQMX_STATUS")
{
    field(DESC, "DaqMX connection status")
    field(DTYP, "Soft Channel")
    field(PINI, "YES")
    field(SCAN, "10 second")
    field(INP, "$(P)DAQMX_STATUS_CALC")
    field(ZNAM, "Good")
    field(ONAM, "Bad")
    field(ZSV, "NO_ALARM")
    field(OSV, "MAJOR")
    info(INTEREST, "HIGH")
    info(alarm, "RKNPS_01")
}