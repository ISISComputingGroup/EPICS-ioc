
record(cvt, "$(P)FIELD:CALIB"){
    field(INPX, "$(P)CURR")
    field(Y, 1)
    field(METH, "1D TABLE")
    field(DRVL, 0)
    field(DRVH, 50000000000)
    field(SPEC, "$(CFILE)")
    field(TDIR, "$(CDIR)")
    field(FLNK, "$(P)FIELD:TOUNIT")
    field(EGU, "")
}

record(calc, "$(P)FIELD:PRECALIB"){
    field(INPA, "$(P)CURR")
    field(CALC, "A*1000000")
    field(FLNK, "$(P)FIELD:CALIB")
    field(EGU, "")
}

record(cvt, "$(P)FIELD:SP:CALIB"){
    field(INPY, "$(P)FIELD:SP:FROMUNIT")
    field(X, 1)
    field(METH, "1D TABLE INVERTED")
    field(DRVL, 0)
    field(DRVH, 50000000000)
    field(SPEC, "$(CFILE)")
    field(TDIR, "$(CDIR)")
    field(OUT, "$(P)SETIRAW")
    field(FLNK, "$(P)SETIRAW")
    field(EGU, "")
}

record(mbbo, "$(P)FIELD:UNIT") {
    field(DESC, "Field Unit to Display")
    field(ZRVL, 0)
    field(ONVL, 1)
    field(TWVL, 2)
    field(ZRST, "Oersted")
    field(ONST, "Gauss")
    field(TWST, "Tesla")
    info(INTEREST, "HIGH")
    info(archive, "VAL")
}
alias("$(P)FIELD:UNIT", "$(P)FIELD:UNIT:RBV")

record(mbbi, "$(P)FIELD:UNIT:SP") {
    field(DESC, "Set Field Unit to Display")
    field(ZRVL, 0)
    field(ONVL, 1)
    field(TWVL, 2)
    field(ZRST, "Oersted")
    field(ONST, "Gauss")
    field(TWST, "Tesla")
    info(INTEREST, "HIGH")
    info(archive, "VAL")
}
alias("$(P)FIELD:UNIT:SP", "$(P)FIELD:UNIT:SP:RBV")

# units are $(P)FIELD:UNIT
record(ai, "$(P)FIELD"){
    field(DESC, "Field")
    field(INP, "$(P)FIELD:TOUNIT PP MS")
    field(EGU, "")
    info(INTEREST, "HIGH")
    info(archive, "VAL")
}
alias("$(P)FIELD", "$(P)FIELD:RBV")

record(ao, "$(P)FIELD:SP") {
    field(FLNK, "$(P)FIELD:SP:FROMUNIT")
    field(EGU, "")
}
alias("$(P)FIELD:SP", "$(P)FIELD:SP:RBV")
